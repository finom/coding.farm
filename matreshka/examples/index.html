<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
<title>Matreshka Javascript Framework - Examples</title>
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,500,700&subset=latin,cyrillic" rel="stylesheet" type="text/css">
<link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../../bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="../../css/syntax.css" rel="stylesheet" type="text/css">
<link href="../../css/style.css" rel="stylesheet" type="text/css">
<style>
@media (max-width: 1120px){
	header .logo .logo-text {
		display: none;
	}
}
</style>
<!--[if lt IE 9]>
<link href="../../css/ie8.css" rel="stylesheet" type="text/css">
<script src="../../js/es5-shim.min.js"></script>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



	</head>
	<body class="examples">
		<header>
			<div class="modern-b typo">Found inaccuracy or typo? <br> Select it and press <button>CTRL</button>+<button>Enter</button></div>
<div class="wrap">
	<a class="logo" href="../../matreshka">
		<img src="../../../img/mk-logo-colour.svg" height="80">
		<span class="logo-text">Matreshka.js</span>
	</a>
	<nav>
		<a href="../../matreshka" >Home</a>
		<a href="../../matreshka/about" >Why Matreshka</a>
		<a href="../../matreshka/docs" >Docs</a>
		<a href="../../matreshka/examples"  class="selected" >Examples</a>
		<a href="https://github.com/finom/matreshka/releases" class="btn download">Download</a>
	</nav>
</div>

		</header>
		<main>
			 <link rel="stylesheet" type="text/css" href="../../css/ui-lightness/jquery-ui-1.10.4.custom.css">
<script>window.runIt = [];</script>
<div class="container-fluid examples">
	<h2 id="matreshka"><a href="#matreshka">Matreshka</a></h2>
	<p>Matreshka is the core class that provides magical possibilities. It contains events engine, data-UI bindings engine, dependences engine and so on. Examples below show common uses of Matreshka by providing source code and running code. Other examples (for each method) you can find on  <a href="../../matreshka/docs/Matreshka.html">documentation page</a></p>
	<h3 id="binding"><a href="#binding">Element binding</a></h3>
<p>The next 3 examples show you how to bind data to UI. More info about <code>bindElement</code> method you can find in <a href="../../matreshka/docs/Matreshka.html#bindElement">on documentation page</a>. </p>
<div class="row">
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span> <span class="c1">// same as new Matreshka;</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">bindElement</span><span class="p">(</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;.my-select&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">on</span><span class="o">:</span> <span class="s1">&#39;change&#39;</span><span class="p">,</span>
	<span class="nx">getValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">setValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">v</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">v</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;select</span> <span class="na">class=</span><span class="s">&quot;my-select&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>First Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>Second Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>Third Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;</span>Fourth Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>Fifth Option<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</code></pre></div>			
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<select class="my-select ex1">
			<option value="1">First Option</option>
			<option value="2">Second Option</option>
			<option value="3">Third Option</option>
			<option value="4">Fourth Option</option>
			<option value="5">Fifth Option</option>
		</select>
		<script>
			runIt.push( function() {
				var mk = new MK(); // same as new Matreshka;

				mk.bindElement( 'x', '.my-select.ex1', {
					on: 'change',
					getValue: function() {
						return this.value;
					},
					setValue: function( v ) {
						this.value = v;
					}
				});

				mk.x = 3;
			});
		</script>
	</div>
	<div class="clearfix"></div>
</div> 

	<h3 id="predef-binding"><a href="#predef-binding">Element binding using default binders</a></h3>
<p>You can describe default binding cases via <code>.defaultBinders</code> array. Look at the docs: <a href="../docs/Matreshka.html#defaultBinders">.defaultBinders</a>.</p>
	<div class="row">
		
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span> <span class="c1">// same as new Matreshka;</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">bindElement</span><span class="p">(</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;.my-select&#39;</span> <span class="p">);</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;select</span> <span class="na">class=</span><span class="s">&quot;my-select&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>First Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>Second Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;</span>Third Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;</span>Fourth Option<span class="nt">&lt;/option&gt;</span>
	<span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>Fifth Option<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</code></pre></div>		
		</div>
		<div class="col-lg-2 mk-example mk-example-result">
			<select class="my-select ex6">
				<option value="1">First Option</option>
				<option value="2">Second Option</option>
				<option value="3">Third Option</option>
				<option value="4">Fourth Option</option>
				<option value="5">Fifth Option</option>
			</select>
			<script>
				runIt.push( function() {
					var mk = new MK(); // same as new Matreshka;

					mk.bindElement( 'x', '.my-select.ex6' );

					mk.x = 3;
				});
			</script>
		</div>
	</div> 

	<h3 id="custom-binding"><a href="#custom-binding">Custom element binding</a></h3>
	<div class="row">
		
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="c1">// custom checkbox behavior</span>
<span class="nx">$</span><span class="p">(</span> <span class="nb">document</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span>  <span class="s1">&#39;.custom-checkbox&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span> <span class="s1">&#39;checked&#39;</span> <span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">bindElement</span><span class="p">(</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;.my-checkbox&#39;</span><span class="p">,</span> <span class="p">{</span>
	<span class="nx">on</span><span class="o">:</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span>
	<span class="nx">getValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span> <span class="s1">&#39;checked&#39;</span> <span class="p">);</span>
	<span class="p">},</span>
	<span class="nx">setValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">v</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span> <span class="s1">&#39;checked&#39;</span><span class="p">,</span> <span class="o">!!</span><span class="nx">v</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="css"><span class="nc">.custom-checkbox</span> <span class="p">{</span>
	<span class="k">background-image</span><span class="o">:</span> <span class="sx">url(...)</span><span class="p">;</span>
	<span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
	<span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
	<span class="k">width</span><span class="o">:</span> <span class="m">14px</span><span class="p">;</span>
	<span class="k">height</span><span class="o">:</span> <span class="m">14px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.custom-checkbox.checked</span> <span class="p">{</span>
	<span class="k">background-position</span><span class="o">:</span> <span class="m">-14px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><code class="html"><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;custom-checkbox my-checkbox&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/span&gt;</span> My Checkbox
</code></pre></div>			
		</div>
		<div class="col-lg-2 mk-example mk-example-result">
			<span class="custom-checkbox my-checkbox ex3"></span> My Checkbox
			<style>
				.custom-checkbox {
					background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAOCAYAAAB6pd+uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlBJREFUeNpijImJiWRAA////2dgZGREoUEAxMYHiNGHSw4mjm4eDCCrg/GJ0cMCEliyZMlyBhJAbGxsJLn6QPTixYvpYh8o8pgIxQq+mCJHH7mAHPtAephobVnadgYhbPpAbBwYFOhsUMxEacAwMdAQJG7+a/b7z997QDqNyMBhsra25v7w4cOE379/nwfyWSiNfap4MHLdL1EsYmY/fv/dBcT8QKyCxaHMQMwOxGxQdzDn5uYK79q1ax0/P3/mx48fN4CUI8c2OYCF3JCB6QtY8a0CSFUErPjjtiGC6xRUzAxI7QJifiDuBoqXYYlB5r9//94BemRjfHx8g4eHh0BKSsoqNjY2wy9fvqwTERFpAar5gy3PB6/6jtfRa8M44YpZyA0ZmL5vP3/zQz2yy23hRzeoNMxzHbvi+StxhdH79+8XCQsLV61du9aJiYmJg5mZWfHXr19nkpKSUoHyP2ExiA6evf9CwHWc8EhgoTR5gjxgM/sNKLmVQj3GAPPckVSRSjxa//j7+3fs2bPHjoODwwYkAIzR+0uXLg1fvXr1RyD3H64S+Hi6KNGxwkRpEgUBoEfKvv/60wfE/FBMyHNgI44ePfpt3bp1Sf/+/XsLNO/TqVOnYoCx9wjkV/TUQm41wUKtEvNstkSx9oSnIOavqwXSlUTWhX+jo6Mf2NnZpQLF/1pZWZ1G9xwl9S4DcjFMDQD0WDEZdegfWVnZjTC/YMt35HqO7EKGkpYMepsSl6eoAcD2ITe20RvLxHqQVH3oHkU3i1Cs4WpkY9MDEGAAFQxTksy+zWUAAAAASUVORK5CYII=);
					position: relative;
					display: inline-block;
					width: 14px;
					height: 14px;
				}

				.custom-checkbox.checked {
				background-position: -14px;
				}
			</style>
			<script>
				runIt.push( function() {
					$( document ).on( 'click',  '.custom-checkbox.ex3', function() {
						$( this ).toggleClass( 'checked' );
					});

					var mk = new MK();

					mk.bindElement( 'x', '.my-checkbox', {
						on: 'click',
						getValue: function() {
							return $( this ).hasClass( 'checked' );
						},
						setValue: function( v ) {
							$( this ).toggleClass( 'checked', !!v );
						}
					});

					mk.x = true;
				});
			</script>
		</div>
	</div> 

	<h3 id="ui-binding"><a href="#ui-binding">Custom element binding 2 (jQuery UI example) </a></h3>
<div class="row">
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span> <span class="c1">// same as new Matreshka;</span>

<span class="nx">mk</span>
	<span class="p">.</span><span class="nx">bindElement</span><span class="p">(</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;.slider&#39;</span><span class="p">,</span> <span class="p">{</span>
		<span class="nx">on</span><span class="o">:</span> <span class="s1">&#39;slide&#39;</span><span class="p">,</span>
		<span class="nx">getValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">slider</span><span class="p">(</span> <span class="s2">&quot;value&quot;</span> <span class="p">);</span>
		<span class="p">},</span>
		<span class="nx">setValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">v</span> <span class="p">)</span> <span class="p">{</span>
			<span class="nx">$</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">slider</span><span class="p">(</span> <span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="nx">v</span> <span class="p">);</span>
		<span class="p">},</span>
		<span class="nx">initialize</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
			<span class="nx">jQuery</span><span class="p">(</span> <span class="k">this</span> <span class="p">).</span><span class="nx">slider</span><span class="p">({</span>
				<span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
				<span class="nx">max</span><span class="o">:</span> <span class="mi">100</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="p">})</span>
	<span class="p">.</span><span class="nx">bindElement</span><span class="p">(</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;.output&#39;</span><span class="p">,</span> <span class="nx">MK</span><span class="p">.</span><span class="nx">binders</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">()</span> <span class="p">)</span>
<span class="p">;</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;slider&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>			
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<div class="slider ex-bind-slider"></div>
		<div class="output ex-bind-slider"></div>
		<script>
			runIt.push( function() {
				
				
				var mk = new MK();
				
				mk
					.bindElement( 'x', '.slider.ex-bind-slider', {
						on: 'slide',
						getValue: function() {
							return $( this ).slider( "value" );
						},
						setValue: function( v ) {
							$( this ).slider( "value", v );
						},
						initialize: function() {
							jQuery( this ).slider({
								min: 0,
								max: 100
							});
						}
					})
					.bindElement( 'x', '.output.ex-bind-slider', MK.binders.innerHTML() )
				;

				mk.x = 30;
			});
		</script>
	</div>
	<div class="clearfix"></div>
</div> 

	<h3 id="events"><a href="#events">Events</a></h3>
<p>Matreshka includes powerful event engine. You can listen and fire any event you want :) Check out the methods that do it:
<a href="../../matreshka/docs/Matreshka.html#on">on</a>,
<a href="../../matreshka/docs/Matreshka.html#once">once</a>,
<a href="../../matreshka/docs/Matreshka.html#off">off</a>,
<a href="../../matreshka/docs/Matreshka.html#trigger">trigger</a>. </p>
	<div class="row">
	
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span> <span class="c1">// same as new Matreshka;</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;yeah&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="s1">&#39;, &#39;</span> <span class="p">);</span>
	<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.output&#39;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="nx">args</span> <span class="p">);</span>
<span class="p">});</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span> <span class="s1">&#39;yeah&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="p">{}</span> <span class="p">);</span>
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>			
		</div>
		<div class="col-lg-2 mk-example mk-example-result">
			<div class="output ex4"></div>
			<script>
				runIt.push( function() {
					var mk = new MK();

					mk.on( 'yeah', function() {
						var args = [].slice.call( arguments ).join( ', ' );
						$( '.output.ex4' ).html( args );
					});

					mk.trigger( 'yeah', 1, 'string', {} );
				});
			</script>
		</div>
	</div>
	 

	<h3 id="change-event"><a href="#change-event"><code>change:KEY</code> event</a></h3>
<p>Matreshka allows you to listen property change event. When you're adding listener for <code>change:KEY</code> event, Matreshka creates setter for this property. It means that you can change the property directly, without calling methods such as <code>.set</code>.</p>
	<div class="row">
		
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;change:x&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="s1">&#39;x changed to &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
	<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.output&#39;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="nx">text</span> <span class="p">);</span>
<span class="p">});</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>			
		</div>
		<div class="col-lg-2 mk-example mk-example-result">
			<div class="output ex2"></div>
			<script>
				runIt.push( function() {
					var mk = new MK();

					mk.on( 'change:x', function() {
						var text = 'x changed to ' + this.x;
						$( '.output.ex2' ).html( text );
					});

					mk.x = 5; // !
				});
			</script>
		</div>
	</div>
	 

	<h3 id="matreshka_setmediator"><a href="#matreshka_setmediator"><code>.setMediator</code> method <span class="label new"></span></a></h3>
<p>This method allows you to keep property valid and keep it to be a string/number/function/object... even if incoming value has another type. This logic is very similar to <code>input.value</code> logic: if you set input value it always converts to string.</p>
<p><a href="../../matreshka/docs/Matreshka.html#setMediator">Get more on documentation page</a></p>
<div class="row">
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">setMediator</span><span class="p">({</span>
	<span class="nx">percentageValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">v</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">v</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="o">?</span> <span class="mi">100</span> <span class="o">:</span> <span class="nx">v</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">v</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">stringValue</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span>
	<span class="nx">integerValue</span><span class="o">:</span> <span class="nb">parseInt</span>
<span class="p">});</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;change&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.output&#39;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span>
		<span class="s1">&#39;percentageValue = &#39;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">percentageValue</span> <span class="p">)</span>
		<span class="o">+</span> <span class="s1">&#39;&lt;br&gt;stringValue = &#39;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">stringValue</span> <span class="p">)</span>
		<span class="o">+</span> <span class="s1">&#39;&lt;br&gt;integerValue = &#39;</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">integerValue</span> <span class="p">)</span>
	<span class="p">);</span>
<span class="p">});</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">percentageValue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span><span class="p">;</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">stringValue</span> <span class="o">=</span> <span class="mi">1234</span><span class="p">;</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">integerValue</span> <span class="o">=</span> <span class="s1">&#39;6789.123456&#39;</span><span class="p">;</span>	
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>			
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<div class="output ex10"></div>
		<script>
			runIt.push( function() {
				var mk = new MK();
				mk.setMediator({
					percentageValue: function( v ) {
						return v > 100 ? 100 : v < 0 ? 0 : v;
					},
					stringValue: String,
					integerValue: parseInt
				});
				
				mk.on( 'change', function() {
					$( '.output.ex10' ).html(
						'percentageValue = ' + JSON.stringify( this.percentageValue )
						+ '<br>stringValue = ' + JSON.stringify( this.stringValue )
						+ '<br>integerValue = ' + JSON.stringify( this.integerValue )
					);
				});
				
				mk.percentageValue = -5;
				mk.stringValue = 1234;
				mk.integerValue = '6789.123456';				
			});
		</script>
	</div>
	<div class="clearfix"></div>
</div> 

	<h3 id="matreshka_adddependency"><a href="#matreshka_adddependency"><code>.addDependency</code> method <span class="label new"></span></a></h3>
<p><code>.addDependency</code> method allows property to be dependent from other properties.</p>
<p><a href="../../matreshka/docs/Matreshka.html#addDependency">Get more on documentation page</a></p>
<div class="row">
		<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">();</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;change:a&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.output&#39;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="s1">&#39;a = &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="p">);</span>
<span class="p">});</span>

<span class="c1">// a depends from b and c as their sum</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">addDependency</span><span class="p">(</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b c&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">b</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">c</span><span class="p">;</span>
<span class="p">});</span>

<span class="nx">mk</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>
<span class="nx">mk</span><span class="p">.</span><span class="nx">c</span> <span class="o">=</span> <span class="mi">22</span><span class="p">;</span>
</code></pre></div>
		</div>
		<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>			
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<div class="output ex11"></div>
		<script>
			runIt.push( function() {
				var mk = new MK();
				mk.on( 'change:a', function() {
					$( '.output.ex11' ).html( 'a = ' + this.a );
				});
				
				// a depends from b and c as their sum
				mk.addDependency( 'a', 'b c', function() {
					return this.b + this.c;
				});
				
				mk.b = 11;
				mk.c = 22;
			});
		</script>
	</div>
	<div class="clearfix"></div>
</div> 

	<h2 id="mk.object"><a href="#mk.object">MK.Object</a></h2>
	<p>After you got how to work with Matreshka you need to delimit application data from application states. What does it mean? For example, you're developing simple login form. It should have two inputs (login and password), "Show Password" checkbox, "Remember Me" checkbox and submit button. All of these elements represent "application state". Server needs 3 things: login, password, and "Remember Me" option, but it doesn't need to know is password is showing to user or not. So we have login, password and "Remember Me" as application state and login, password, "Remember Me" and "Show Password" as data state. As you see data state is always a subset of application state. <a href="http://jsbin.com/jiwuweya/2/">Check this example out on JSBin</a>.</p>
	<p><a href="../../matreshka/docs/Matreshka.Object.html">Documentation page</a></p>
	<h3 id="mk-object_jset-and-toJSON"><a href="#mk-object_jset-and-toJSON"><code>.jset</code> and <code>.toJSON</code></a></h3>
<p>How to add properties to appliaton data set? It could be done using <code>jset</code> method by passing needed properties to this method once. From now you don't need to be care which properties are responsible for data and you can work with any data property as with regilar property. Look at docs:
<a href="../../matreshka/docs/Matreshka.Object.html#jset">jset</a>,
<a href="../../matreshka/docs/Matreshka.Object.html#toJSON">toJSON</a>,
<a href="../../matreshka/docs/Matreshka.Object.html#keys">keys</a>,
<a href="../../matreshka/docs/Matreshka.Object.html#addJSONKeys">addJSONKeys</a>,
<a href="../../matreshka/docs/Matreshka.Object.html#removeJSONKeys">removeJSONKeys</a>.</p>
<div class="row">
	
	<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span>     <span class="nx">mkObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">.</span><span class="nb">Object</span><span class="p">,</span>
	<span class="nx">result</span><span class="p">;</span>

<span class="c1">// making &#39;a&#39; and &#39;b&#39; to be enuberable fot this instance (&quot;data keys&quot;)</span>
<span class="nx">mkObject</span><span class="p">.</span><span class="nx">jset</span><span class="p">({</span>
	<span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
	<span class="nx">b</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">});</span>

<span class="nx">mkObject</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="c1">// c is not &quot;data&quot; so it&#39;s not a part of result</span>
<span class="c1">// of the .toJSON method</span>
<span class="nx">mkObject</span><span class="p">.</span><span class="nx">c</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>

<span class="nx">result</span> <span class="o">=</span> <span class="nx">mkObject</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">();</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.output&#39;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="nx">result</span> <span class="p">)</span> <span class="p">);</span>
</code></pre></div>
	</div>
	<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>				
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<div class="output ex9"></div>
		<script>
			runIt.push( function() {
				var mkObject = new MK.Object,
					result;
				
				// making 'a' and 'b' data keys
				mkObject.jset({
					a: 1,
					b: 2
				});
				
				mkObject.b = 3;
				
					// c is not data so it's not going to result of .toJSON
				mkObject.c = 4;
				
				result = mkObject.toJSON();
				
				$( '.output.ex9' ).html( JSON.stringify( result ) );
			});
		</script>
	</div>
</div>		 

	<h2 id="mk.array"><a href="#mk.array">MK.Array</a></h2>
	<p><code>MK.Array</code> is responsible for collections in Matreshka apps. It inherits Matreshka class and has same features as Matreshka (events, dependences etc) but responsible for "collection" functionality.</p>
	<p><a href="../../matreshka/docs/Matreshka.Array.html">Documentation page</a></p>
	<h3 id="original-methods"><a href="#original-methods">Original Array methods</a></h3>
<p>Remember that Matreshka.Array instance has same methods as native Javascript Array. Some methods are changed for chain calling (sugared native Array methods).</p>
<div class="row">
	<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mkArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">.</span><span class="nb">Array</span><span class="p">(),</span>
	<span class="nx">result</span><span class="p">;</span>
<span class="nx">mkArray</span>
	<span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
	<span class="p">.</span><span class="nx">shift</span><span class="p">()</span>
<span class="p">;</span>
<span class="nx">result</span> <span class="o">=</span> <span class="nx">mkArray</span>
	<span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span> <span class="p">)</span>
	<span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span> <span class="p">)</span>
	<span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s1">&#39;,&#39;</span> <span class="p">)</span>
<span class="p">;</span>
<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.output&#39;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="nx">result</span> <span class="p">);</span>
</code></pre></div>
	</div>
	<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div>			
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<div class="output ex8"></div>
		<script>
			runIt.push( function() {
				var mkArray = new MK.Array(),
					result;
				mkArray
					.push( 1, 2, 3, 4, 5 )
					.shift()
				;
				
				result = mkArray
					.unshift( 6, 7 )
					.splice( 1, 4 )
					.join( ',' )
				;
				$( '.output.ex8' ).html( result );
			});
		</script>
	</div>
</div> 

	<h3 id="original-methods"><a href="#original-methods">Events</a></h3>
<p>Each method that modifies <code>Matreshka.Array</code> instance fires two events: <code>method name</code> and <code>"modify"</code>. Some of methods that add or remove (or both: add and remove) fire corresponding events. For example <code>.push</code> method fires <code>"push"</code>, <code>"modify"</code> and <code>"add"</code> events, <code>.sort</code> method fires <code>"sort"</code>and <code>"modify"</code> events, <code>.splice</code> method fires <code>"splice"</code>, <code>"modify"</code>, <code>"add"</code> (if something is added) and <code>"remove"</code> (if something is remove) events... and so on. Event options object that passed to event handlers contains information about what is going on (what is added/removed, which method is called...).</p>
<div class="row">
	<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mkArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">.</span><span class="nb">Array</span><span class="p">();</span>

<span class="nx">mkArray</span>
	<span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;modify&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">evtOpts</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">alert</span><span class="p">(</span>
			<span class="s1">&#39;&quot;modify&quot; event is fired\nresult is: &#39;</span> 
			<span class="o">+</span> <span class="nx">evtOpts</span><span class="p">.</span><span class="nx">returns</span> <span class="o">+</span> <span class="s1">&#39;\narguments: &#39;</span> 
			<span class="o">+</span> <span class="p">(</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">evtOpts</span><span class="p">.</span><span class="nx">args</span> <span class="p">).</span><span class="nx">toString</span><span class="p">()</span> <span class="o">||</span> <span class="s1">&#39;none&#39;</span> <span class="p">)</span>
			<span class="o">+</span> <span class="s1">&#39;\nfired by: .&#39;</span> <span class="o">+</span> <span class="nx">evtOpts</span><span class="p">.</span><span class="nx">method</span> <span class="o">+</span> <span class="s1">&#39; method&#39;</span>
		<span class="p">);</span>

		<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.output&#39;</span> <span class="p">).</span><span class="nx">html</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s1">&#39;, &#39;</span> <span class="p">)</span> <span class="p">);</span>
	<span class="p">})</span>
	<span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;push&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">evtOpts</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">alert</span><span class="p">(</span>
			<span class="s1">&#39;&quot;push&quot; event is fired\nresult is: &#39;</span> 
			<span class="o">+</span> <span class="nx">evtOpts</span><span class="p">.</span><span class="nx">returns</span> 
			<span class="o">+</span> <span class="s1">&#39; (original Array.prototype push returns length)\narguments: &#39;</span> 
			<span class="o">+</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">evtOpts</span><span class="p">.</span><span class="nx">args</span> <span class="p">)</span> 
		<span class="p">);</span>
	<span class="p">})</span>
	<span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;pop&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">evtOpts</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">alert</span><span class="p">(</span>
			<span class="s1">&#39;&quot;pop&quot; event is fired\nresult is: &#39;</span> 
			<span class="o">+</span> <span class="nx">evtOpts</span><span class="p">.</span><span class="nx">returns</span> 
			<span class="o">+</span> <span class="s1">&#39; (original Array.prototype.pop returns last array item)&#39;</span>
		<span class="p">);</span>
	<span class="p">})</span>
	<span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;reverse&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">evtOpts</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">alert</span><span class="p">(</span> <span class="s1">&#39;&quot;reverse&quot; event is fired&#39;</span> <span class="p">);</span>
	<span class="p">})</span>
	<span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;sort&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">evtOpts</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">alert</span><span class="p">(</span> <span class="s1">&#39;&quot;sort&quot; event is fired&#39;</span> <span class="p">);</span>
	<span class="p">})</span>
<span class="p">;</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.push-example&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span> <span class="p">);</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.pop-example&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.reverse-example&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span>
<span class="p">});</span>
<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.sort-example&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div>
	</div>
	<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;output&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;btn btn-default push-example&quot;</span><span class="nt">&gt;</span>
	.push( 1, 2, 3, 4, 5 );
<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;btn btn-default pop-example&quot;</span><span class="nt">&gt;</span>
	.pop();
<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;btn btn-default reverse-example&quot;</span><span class="nt">&gt;</span>
	.reverse();
<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;btn btn-default sort-example&quot;</span><span class="nt">&gt;</span>
	.sort();
<span class="nt">&lt;/button&gt;</span>
</code></pre></div>			
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<div class="output ex7"></div>
		<button class="btn btn-default push-example ex7"><code>.push(1,2,3,4,5);</code></button>
		<button class="btn btn-default pop-example ex7"><code>.pop();</code></button>
		<button class="btn btn-default reverse-example ex7"><code>.reverse();</code></button>
		<button class="btn btn-default sort-example ex7"><code>.sort();</code></button>
		<style>
			button.ex7 {
				font-size: 14px;
				width: 180px;
				margin-bottom: 2px;
			}
		</style>
		<script>
			runIt.push( function() {
				var mkArray = new MK.Array();
				
				mkArray
					.on( 'modify', function( evtOpts ) {
						alert(
							'"modify" event is fired\nresult is: ' 
							+ evtOpts.returns + '\narguments: ' 
							+ ( [].slice.call( evtOpts.args ).toString() || 'none' )
							+ '\nfired by: .' + evtOpts.method + ' method'
						);

						$( '.output.ex7' ).html( this.join( ', ' ) );
					})
					.on( 'push', function( evtOpts ) {
						alert(
							'"push" event is fired\nresult is: ' 
							+ evtOpts.returns 
							+ ' (original Array.prototype push returns length)\narguments: ' 
							+ [].slice.call( evtOpts.args ) 
						);
					})
					.on( 'pop', function( evtOpts ) {
						alert(
							'"pop" event is fired\nresult is: ' 
							+ evtOpts.returns 
							+ ' (original Array.prototype.pop returns last array item)'
						);
					})
					.on( 'reverse', function( evtOpts ) {
						alert( '"reverse" event is fired' );
					})
					.on( 'sort', function( evtOpts ) {
						alert( '"sort" event is fired' );
					})
				;

				$( '.push-example.ex7' ).on( 'click', function() {
					mkArray.push( 1, 2, 3, 4, 5 );
				});
				$( '.pop-example.ex7' ).on( 'click', function() {
					mkArray.pop();
				});
				$( '.reverse-example.ex7' ).on( 'click', function() {
					mkArray.reverse();
				});
				$( '.sort-example.ex7' ).on( 'click', function() {
					mkArray.sort();
				});
			});
		</script>
	</div>
</div> 

	<h3 id="mk.array_itemrenderer"><a href="#mk.array_itemrenderer">Array renderer</a> <span class="label new"></span></h3>
<p><code>MK.Array</code> can become "smart" array. It means that each time when you add/remove/sort your data, the UI will also change. You just need to set <code>.itemRenderer</code> property as function before adding any data to array. When you're adding data (eg via <code>.push</code> method) the <code>"render"</code> event triggers on added elements and MK.Array renders these items and adds them to element that bound to <code>"container"</code> key or <code>"__this__"</code> key of this array. Look carefully at this example.</p>
<div class="row">
	<div class="col-lg-5 mk-example mk-example-js">
<div class="highlight"><pre><code class="javascript"><span class="kd">var</span> <span class="nx">mkArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MK</span><span class="p">.</span><span class="nb">Array</span><span class="p">()</span>
		<span class="p">.</span><span class="nx">bindElement</span><span class="p">(</span> <span class="s1">&#39;__this__&#39;</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.smart-array-table tbody&#39;</span> <span class="p">)</span> <span class="p">)</span>
		<span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">evt</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;tr&#39;</span> <span class="p">).</span><span class="nx">css</span><span class="p">(</span> <span class="s1">&#39;backgroundColor&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span> <span class="p">);</span>
			<span class="nx">evt</span><span class="p">.</span><span class="nx">added</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">item</span> <span class="p">)</span> <span class="p">{</span>
				<span class="nx">item</span><span class="p">.</span><span class="nx">boundAll</span><span class="p">().</span><span class="nx">css</span><span class="p">(</span> <span class="s1">&#39;backgroundColor&#39;</span><span class="p">,</span> <span class="s1">&#39;#FEFFE3&#39;</span> <span class="p">);</span>
			<span class="p">});</span>
		<span class="p">})</span>
	<span class="p">,</span>
	<span class="nx">SomeModel</span> <span class="o">=</span> <span class="nx">Class</span><span class="p">({</span>
		<span class="s1">&#39;extends&#39;</span><span class="o">:</span> <span class="nx">MK</span><span class="p">.</span><span class="nb">Object</span><span class="p">,</span>
		<span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
			<span class="k">this</span>
				<span class="p">.</span><span class="nx">initMK</span><span class="p">()</span>
				<span class="p">.</span><span class="nx">jset</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span>
				<span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;render&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">evt</span> <span class="p">)</span> <span class="p">{</span>
					<span class="k">this</span>
						<span class="p">.</span><span class="nx">bindElement</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">element</span> <span class="p">)</span>
						<span class="p">.</span><span class="nx">bindElement</span><span class="p">({</span>
							<span class="nx">a</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.a&#39;</span> <span class="p">),</span>
							<span class="nx">b</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.b&#39;</span> <span class="p">),</span>
							<span class="nx">c</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.c&#39;</span> <span class="p">)</span>
						<span class="p">},</span> <span class="nx">MK</span><span class="p">.</span><span class="nx">binders</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">()</span> <span class="p">)</span>
					<span class="p">;</span>
				<span class="p">})</span>
			<span class="p">;</span>
		<span class="p">}</span>
	<span class="p">});</span>
	
<span class="nx">mkArray</span><span class="p">.</span><span class="nx">itemRenderer</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">return</span> <span class="s1">&#39;&lt;tr&gt;&lt;td class=&quot;a&quot;&gt;&lt;/td&gt;&lt;td class=&quot;b&quot;&gt;&lt;/td&gt;&lt;td class=&quot;c&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.push&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="k">new</span> <span class="nx">SomeModel</span><span class="p">({</span>
		<span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span>
		<span class="nx">b</span><span class="o">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
		<span class="nx">c</span><span class="o">:</span> <span class="s1">&#39;c&#39;</span>
	<span class="p">}),</span>
	<span class="k">new</span> <span class="nx">SomeModel</span><span class="p">({</span>
		<span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span>
		<span class="nx">b</span><span class="o">:</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span>
		<span class="nx">c</span><span class="o">:</span> <span class="s1">&#39;f&#39;</span>
	<span class="p">}));</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.splice&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">new</span> <span class="nx">SomeModel</span><span class="p">({</span>
		<span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span>
		<span class="nx">b</span><span class="o">:</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span>
		<span class="nx">c</span><span class="o">:</span> <span class="s1">&#39;j&#39;</span>
	<span class="p">}),</span>
	<span class="k">new</span> <span class="nx">SomeModel</span><span class="p">({</span>
		<span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span>
		<span class="nx">b</span><span class="o">:</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span>
		<span class="nx">c</span><span class="o">:</span> <span class="s1">&#39;m&#39;</span>
	<span class="p">}));</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.pop&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.unshift&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="k">new</span> <span class="nx">SomeModel</span><span class="p">({</span>
		<span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
		<span class="nx">b</span><span class="o">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span>
		<span class="nx">c</span><span class="o">:</span> <span class="s1">&#39;p&#39;</span>
	<span class="p">}));</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.sort&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">return</span> <span class="nx">x</span><span class="p">.</span><span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">y</span><span class="p">.</span><span class="nx">a</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">});</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.shift&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">mkArray</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.set_0_a&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">if</span><span class="p">(</span> <span class="nx">mkArray</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">mkArray</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span><span class="nx">a</span> <span class="o">=</span> <span class="s1">&#39;xxx&#39;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>

<span class="nx">$</span><span class="p">(</span> <span class="s1">&#39;.set_1_c&#39;</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">if</span><span class="p">(</span> <span class="nx">mkArray</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nx">mkArray</span><span class="p">[</span> <span class="mi">1</span> <span class="p">].</span><span class="nx">c</span> <span class="o">=</span> <span class="s1">&#39;yyy&#39;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
	</div>
	<div class="col-lg-5 mk-example mk-example-layout">
<div class="highlight"><pre><code class="html"><span class="nt">&lt;div&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;push&quot;</span><span class="nt">&gt;</span>array.push<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;splice&quot;</span><span class="nt">&gt;</span>array.splice<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;pop&quot;</span><span class="nt">&gt;</span>array.pop<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;unshift&quot;</span><span class="nt">&gt;</span>array.unshift<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;sort&quot;</span><span class="nt">&gt;</span>array.sort<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;shift&quot;</span><span class="nt">&gt;</span>array.shift<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;set_0_a&quot;</span><span class="nt">&gt;</span>array[0].a = 123<span class="nt">&lt;/button&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;set_1_c&quot;</span><span class="nt">&gt;</span>array[1].c = &#39;xxx&#39;<span class="nt">&lt;/button&gt;</span>
	
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">&quot;smart-array-table&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;thead&gt;</span>
		<span class="nt">&lt;th&gt;</span>a
		<span class="nt">&lt;th&gt;</span>b
		<span class="nt">&lt;th&gt;</span>c
	<span class="nt">&lt;/thead&gt;</span>
	<span class="nt">&lt;tbody&gt;&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;style&gt;</span>	
	<span class="nc">.smart-array-table</span> <span class="p">{</span>
		<span class="k">width</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="nc">.smart-array-table</span> <span class="nt">td</span> <span class="p">{</span>
		<span class="k">width</span><span class="o">:</span> <span class="m">30</span><span class="o">%</span><span class="p">;</span>
	<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
</code></pre></div>			
	</div>
	<div class="col-lg-2 mk-example mk-example-result">
		<div>
			<button class="push ex12"><code>array.push</code></button>
			<button class="splice ex12"><code>array.splice</code></button>
			<button class="pop ex12"><code>array.pop</code></button>
			<button class="unshift ex12"><code>array.unshift</code></button>
			<button class="sort ex12"><code>array.sort</code></button>
			<button class="shift ex12"><code>array.shift</code></button>
			<button class="set_0_a ex12"><code>array[0].a = 123</code></button>
			<button class="set_1_c ex12"><code>array[1].c = 'xxx'</code></button>
			
		</div>
		<table class="smart-array-table">
			<thead>
				<th>a
				<th>b
				<th>c
			</thead>
			<tbody></tbody>
		</table>
		<style>
			button.ex12 {
				font-size: 14px;
				width: 160px;
				margin-bottom: 2px;
			}
			
			.smart-array-table {
				width: 100%;
			}
			
			.smart-array-table td {
				width: 30%;
			}
		</style>
		<script>
			runIt.push( function() {
				var mkArray = new MK.Array()
						.bindElement( '__this__', $( '.smart-array-table tbody' ) )
						.on( 'add', function( evt ) {
							this.$( 'tr' ).css( 'backgroundColor', 'none' );
							evt.added.forEach( function( item ) {
								item.boundAll().css( 'backgroundColor', '#FEFFE3' );
							});
						})
					,
					SomeModel = Class({
						'extends': MK.Object,
						constructor: function( data ) {
							this
								.initMK()
								.jset( data )
								.on( 'render', function( evt ) {
									this
										.bindElement( this, evt.element )
										.bindElement({
											a: this.$( '.a' ),
											b: this.$( '.b' ),
											c: this.$( '.c' )
										}, MK.binders.innerHTML() )
									;
								})
							;
						}
					});
					
				mkArray.itemRenderer = function() {
					return '<tr><td class="a"></td><td class="b"></td><td class="c"></td></tr>';
				};
				
				$( '.push.ex12' ).on( 'click', function() {
					mkArray.push( new SomeModel({
						a: 'a',
						b: 'b',
						c: 'c'
					}),
					new SomeModel({
						a: 'd',
						b: 'e',
						c: 'f'
					}));
				});
				
				$( '.splice.ex12' ).on( 'click', function() {
					mkArray.splice( 1, 2, new SomeModel({
						a: 'h',
						b: 'i',
						c: 'j'
					}),
					new SomeModel({
						a: 'k',
						b: 'l',
						c: 'm'
					}));
				});
				
				$( '.pop.ex12' ).on( 'click', function() {
					mkArray.pop();
				});
				
				$( '.unshift.ex12' ).on( 'click', function() {
					mkArray.unshift( new SomeModel({
						a: 'n',
						b: 'o',
						c: 'p'
					}));
				});
				
				$( '.sort.ex12' ).on( 'click', function() {
					mkArray.sort( function( x, y ) {
						return x.a > y.a ? 1 : -1;
					});
				});
				
				$( '.shift.ex12' ).on( 'click', function() {
					mkArray.shift();
				});
				
				$( '.set_0_a.ex12' ).on( 'click', function() {
					if( mkArray[ 0 ] ) {
						mkArray[ 0 ].a = 'xxx';
					}
				});
				
				$( '.set_1_c.ex12' ).on( 'click', function() {
					if( mkArray[ 1 ] ) {
						mkArray[ 1 ].c = 'yyy';
					}
				});
			});
		</script>
	</div>
</div> 
 

</div>
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="../../js/jquery-ui-1.10.4.custom.min.js"></script>
<script src="../../js/matreshka.min.js"></script>
<script>
	if( window.runIt ) {
		for( var i = 0; i < window.runIt.length; i++ ) {
			window.runIt[ i ]();
		}
	}
</script>

		</main>
		<footer><script src="../../js/typo.js"></script>


</footer>
		
	</body>
</html>