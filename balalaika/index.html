---
layout: balalaika
title: Balalaika.js
---
http://geojson.org/
http://andhyde.com/
<div class="row">
	<div class="col-md-12">
		<p>Нравится <a href="http://vanilla-js.com/" target="_blank">vanilla.js</a>? Надоели огромные DOM библиотеки, типа jQuery? Хочешь стать крутым Javascript ниндзей? Балалайка - ванильная, встраиваемая библиотека, которая занимает меньше <strong>999 Байт</strong></p>
		<p>Просто вставь этот код на сраницу перед всеми скриптами:</p>
		<div class="form-group">
			<textarea class="form-control" rows="5">
<script>
	$b=(function(n,e,k,h,p,m,l,b,d,g,f,c){c=function(a,b){return new c.i(a,b)};c.i=function(a,d){k.push.apply(this,a?a.nodeType||a==n?[a]:""+a===a?/</.test(a)?((b=e.createElement(d||"div")).innerHTML=a,b.children):(d&&c(d)[0]||e).querySelectorAll(a):/f/.test(typeof a)?/c/.test(e.readyState)?a():c(e).on("DOMContentLoaded",a):a:k)};c.i[f="prototype"]=(c.extend=function(a){g=arguments;for(b=1;b<g.length;b++)if(f=g[b])for(d in f)a[d]=f[d];return a})(c.fn=c[f]=k,{on:function(a,d){a=a.split(h);this.map(function(c){(h[b=a[0]+(c.b$=c.b$||++p)]=h[b]||[]).push([d,a[1]]);c["add"+m](a[0],d)});return this},off:function(a,c){a=a.split(h);f="remove"+m;this.map(function(e){if(b=(g=h[a[0]+e.b$])&&g.length)for(;d=g[--b];)c&&c!=d[0]||a[1]&&a[1]!=d[1]||(e[f](a[0],d[0]),g.splice(b,1));else!a[1]&&e[f](a[0],c)});return this},is:function(a){b=this[0];d=!!b&&(b.matches||b["webkit"+l]||b["moz"+l]||b["ms"+l]);return!!d&&d.call(b,a)}});return c})(window,document,[],/\.(.+)/,0,"EventListener","MatchesSelector");
</script></textarea>
		</div>
		<p>Никакого подключения внешних скриптов, никаких ожиданий от сервера. Выглядит, как подключение счетчика просмотров. Круто?</p>
		
		
		<h2>Зачем?</h2>
		<p>
			<a href="http://vanilla-js.com/" target="_blank">vanilla.js</a> это круто, но иногда хочется избежать дублирования кода
		</p>
{% highlight javascript %}
Array.prototype.slice.call( document.querySelectorAll( 'selector' ) ).filter( someFilter ); // Слишком неудобно
{% endhighlight %}
		<p>Гараздо удобнее использовать библиотечный стиль:</p>
{% highlight javascript %}
$( 'selector' ).filter( someFilter ); // так намного лучше
{% endhighlight %}
		<p>Что можно сделать? Подключить jQuery!11 Но зачем нам тащить огромную библиотеку для того, чтоб получить чертов набор элементов по селектору? Незачем! Достаточно написать нужную функцию самому или использовать Балалайку, которая включает в себя только самое необходимое. Если нужно больше - допиши.</p>
		<img src="../img/jquery-basic-arithmetic.gif" class="hide">
		<p></p>
		
		
		<h2>Фичи</h2>
		<p>Бaлалайка наследует обычный массив (Array.prototype), это значит, что все методы массива доступны и для Балалайки.</p>
		<ul>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" target="_blank">concat</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" target="_blank">join</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop" target="_blank">pop</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" target="_blank">push</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse" target="_blank">reverse</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift" target="_blank">shift</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank">slice</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank">sort</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank">splice</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/toString"  target="_blank">toString</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift" target="_blank">unshift</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every" target="_blank">every</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank">filter</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank">forEach</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf">indexOf</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf" target="_blank">lastIndexOf</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank">map</a>
			<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some" target="_blank">some</a>
		</ul>
		<!--$( '.x' ).innerHTML.split( '\n' ).map( function(it) { return '<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/'+it+'">'+it+'</a>' }).join( '\n' );
		<span class="x">concat
				join
				pop
				push
				reverse
				shift
				slice
				sort
				splice
				toSource
				toString
				unshift
				every
				filter
				forEach
				indexOf
				lastIndexOf
				map
				some</span>-->
		<p>Кроме этого балалайка предоставляет три необходимых в любом проекте метода.</p>
		<ul>
			<li><strong>on</strong>, который добавляет обработчики события элементам и поддерживает нэймспэйсы в стиле jQuery.
			<li><strong>off</strong>, который отключает обработчики события от элементов.
			<li><strong>is</strong>, который проверяет является ли элемент соответсвующим некоемуму селектору. Это удобно, когда мы создаем делегирующие события или ищем родителей\детей\сестер по селектору.
			<li><strong>Готовность документа</strong>, куда без неё?
			<li><strong>extend</strong>, расширяющий один объект другим.
		</ul>
		<p>Всё остальное можешь написать сам, если захочешь.</p>
		<h2>Примеры</h2>
{% highlight javascript %}
var element = $('.my-element');
var inner = $( '.inner', element );
{% endhighlight %}
		<h3>События</h3>
{% highlight javascript %}
$('.my-button').on('click', function() {
	alert( 'Hey!' );
});
$('.my-button').off('click');
{% endhighlight %}

{% highlight javascript %}
$('.my-button').on('click.myns', function() {
	alert( 'Hey!' );
});
$('.my-button').off('click.myns');
{% endhighlight %}
		<p>* Обратите внимание на два ограничения: в метод <strong>on</strong> нельзя передать сразу несколько имен событий (<code>.on('click keyup', ...)</code>) и <strong>off</strong> не убирает  все события с заданным неймспейсом (<code>.off('.mynamespace')</code>)</p>
		<h3>Методы массива</h3>
		фильтр, форыч
		<h3>Икстенд</h3>
		<h2>Где использовать?</h2>
	</div>
</div>
	
	<!--ГДЕ ИСПОЛЬЗОВАТЬ?
	В проектах
	В библиотеках
		вверху
		аршументом
	
	ПРИМЕР ИСПОЛЬЗОВАНИЯ
	Выборка, фильтр, форыч
	События
	
	СТИЛЬ КОДА
	Балалайка предоставляет одну переменную ;Б, но ты можешь использовать стиль других библиотек:
	Жиквери стиль
	Мутулз стиль
	
	ЕЩЕ ПРИМЕРЫ (сравнение с жиквери)
	делегация событий
	установка стиля
	получение стиля
	установка класса (ссылка на класслист)
	получение
	установка атрибута
	получение
	...
	
	ПЛАГИНЫ
	Балалайка - полностью расширяемая библиотека, ты можешь добавить любимый метод в любой момент, подняв при этом свои навыки
	тоггл\адд\ремув\хэзКласс
	парэнт
	парэнтс
	фильтр (с селектором)
	адд
	файнд
	
	ИЕ
	Как известно, ие не поддерживает новых штук. Например, у ие нету методов массива, как форыч, а дом элементы не подерживают матчес. Было бы обидно, если бы интернет експлорер разбил твою мечту о том, чтобы стать ванилла ниндзей. Есть решение.
	Во первых подключи ес5 шим, который добавляет функции жаваскрипт, в том числе и современные методы массива
	Во вторых подключи домшим, который добавит аддевентлисенер и другие полезные методы в ие
	В третьих добавь очень маленький патч для балалайки
	Весь код для поддержки ИЕ выглядит так:
	...
	-->
	